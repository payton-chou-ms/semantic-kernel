# Connected Multi-Agent System

## 系統架構概述

本系統採用多代理協作架構，由一個 Master Agent（主代理）負責任務分派，並協調四個專業子代理完成各種複雜任務。

## Agent 定義

### 🎯 Master Agent — 任務分派大師（Orchestrator）

**角色定位**：智能任務路由器

**主要職責**：
- 分析使用者請求意圖
- 判斷需要哪個或哪些子代理處理  
- 協調多個代理間的工作流程
- 整合並回傳最終結果

**子代理管理**：
- 🌐 **網路搜尋大師**：需要即時查詢最新資料
- ✍️ **翻譯重寫大師**：需要中英互譯或段落優化重寫
- 🧩 **專業顧問大師**：需要從不同觀點分析問題
- 📝 **筆記大師**：需要將內容整理為 Markdown 筆記與心智圖

**工作流程**：
1. 接收使用者輸入
2. 解析任務類型和複雜度
3. 選擇適當的子代理
4. 監控執行過程
5. 整合回應並回傳使用者

**決策邏輯**：
- 單一任務：直接委派給對應代理
- 複合任務：設計多步驟執行流程  
- 模糊任務：自行簡單回答或要求澄清

### 🌐 Sub Agent A — 網路搜尋大師（Web Searcher）

**角色定位**：即時資訊獲取專家

**核心能力**：
- 即時網路搜尋與資訊收集
- 新聞時事、市場趨勢分析
- 產品資訊和技術動態追蹤
- 多來源資訊整合與去重

**工具整合**：
- Bing Grounding Tool（即時搜尋）
- 資訊來源驗證與可信度評估
- 結構化資訊摘要輸出

**適用場景**：
- 最新資訊查詢
- 市場趨勢分析  
- 競品調研
- 技術發展動態

### ✍️ Sub Agent B — 翻譯重寫大師（Rewriter & Translator）

**角色定位**：語言轉換與內容優化專家

**核心服務**：
針對每段輸入提供三種輸出版本：
1. **精簡翻譯**：保留核心意思，簡化表達
2. **完整翻譯**：語句通順，語意完整保留  
3. **重點描述**：條列式重點摘要說明

**技術特點**：
- 自動語言方向識別（中↔英）
- 多層次翻譯品質保證
- 語境適應性調整
- 專業術語準確轉換

**適用場景**：
- 文件翻譯與本地化
- 內容改寫與優化  
- 跨語言溝通支援
- 多版本內容需求

### 🧩 Sub Agent C — 專業顧問大師（Expert Consultant）

**角色定位**：多維度戰略分析專家

**分析框架**：
每個問題從三個維度提供深度分析：

1. **技術面分析**：
   - 可行性評估
   - 效能與擴展性
   - 技術限制與風險
   - 競爭優勢分析

2. **商業面分析**：
   - 成本效益分析
   - 營收模式設計
   - 目標客群定位
   - 市場定位策略  
   - 價值主張提煉

3. **產業面分析**：
   - 競爭對手分析
   - 市場趨勢預測
   - 合規法規要求
   - 產業鏈生態分析

**輸出格式**：
- 各維度條列式分析
- 整體建議摘要
- 行動方案建議
- 風險提醒與緩解策略

### 📝 Sub Agent D — 筆記大師（Note Taker）

**角色定位**：知識整理與結構化專家

**核心服務**：
將輸入內容整理為兩種格式：

1. **Markdown 筆記**：
   - 清晰的標題層次結構
   - 有序的段落組織
   - 便於閱讀的清單格式
   - 支援後續編輯與引用

2. **心智圖說明**：
   - 階層式邏輯結構
   - 關鍵節點提取
   - 概念關聯性展示
   - 視覺化思維導圖描述

**技術特點**：
- 繁體中文輸出
- 結構化資訊組織
- 知識點關聯分析
- 便於複習的格式設計

**適用場景**：
- 會議記錄整理
- 學習筆記製作
- 研究資料歸納
- 知識庫建立

---

## 任務分派對應表

| 問題類型     | 預期分派對象   | 範例                                                    |
| ------------ | -------------- | ------------------------------------------------------- |
| 即時資訊查詢 | 🌐 網路搜尋大師 | 最近有哪些 AI 轉職培訓課程推薦？                        |
| 翻譯與重寫   | ✍️ 翻譯重寫大師 | 請幫我把這段英文翻成中文並整理重點                      |
| 戰略分析諮詢 | 🧩 專業顧問大師 | 我們想導入 Copilot 到內部系統，可從哪些角度評估可行性？ |
| 內容整理歸納 | 📝 筆記大師     | 幫我整理這段訪談成 Markdown 筆記，並畫出心智圖          |



---

## 複合型任務處理

### 多代理協作範例

**範例 1：資訊收集 → 整理 → 翻譯**
```
問題：最近有哪些 AI 輪班排程工具值得參考？幫我整理成筆記，並翻成英文介紹用。
執行流程：🌐 網路搜尋大師 → 📝 筆記大師 → ✍️ 翻譯重寫大師
```

**範例 2：翻譯 → 分析 → 整理**
```
問題：請幫我把這篇分析文章翻成中文，並從技術、商業與產業面幫我評論一下，最後整理成筆記。
執行流程：✍️ 翻譯重寫大師 → 🧩 專業顧問大師 → 📝 筆記大師
```

**範例 3：搜尋 → 分析 → 撰寫**
```
問題：我們想導入 GitHub Copilot 到內部流程，請找最新案例來參考，然後幫我分析可行性並寫一段對內說帖。
執行流程：🌐 網路搜尋大師 → 🧩 專業顧問大師 → ✍️ 翻譯重寫大師（撰寫對內說帖）
```

**範例 4：搜尋 → 翻譯 → 整理**
```
問題：請搜尋 2025 年 Azure AI 的發展重點，幫我翻成中英文摘要筆記，並畫一個心智圖。
執行流程：🌐 網路搜尋大師 → ✍️ 翻譯重寫大師 → 📝 筆記大師
```

**範例 5：翻譯 → 分析 → 整理**
```
問題：這段說明請翻成英文，再幫我從三個面向提出潛在問題，最後整理成一頁 Markdown 文件。
執行流程：✍️ 翻譯重寫大師 → 🧩 專業顧問大師 → 📝 筆記大師
```

---

## 進階使用場景

### 1. 迭代式任務處理

**反覆翻譯與優化**
- **使用場景**：中翻英 → 語氣優化 → 英翻中確認
- **執行策略**：✍️ 翻譯重寫大師 多次呼叫
- **價值**：語義對照式驗證，確保譯文準確性

**多輪搜尋與資訊合成** 
- **使用場景**：概要搜尋 → 深入特定主題
- **執行策略**：🌐 網路搜尋大師 迭代查詢
- **價值**：逐步聚焦，獲得更精確資訊

### 2. 條件式分析比較

**多假設驗證**
- **使用場景**：不同技術方案的比較分析
- **執行策略**：🧩 專業顧問大師 條件式分析
- **價值**：風險評估、策略決策支援

### 3. 長文本分段處理

**逐段處理與整合**
- **使用場景**：長篇文章摘要、多段落翻譯
- **執行策略**：分段送入對應代理，最後統一整合
- **價值**：突破 token 限制，保持處理品質

---

## 技術架構說明

### 實作考量

**狀態管理**：
- Azure AI Foundry 無內建記憶機制
- 需由 Master Agent 維護中間狀態
- 建議使用 Semantic Kernel 的 memory 或 prompt chain context

**流程控制**：
- 程式化控制多步驟呼叫順序
- 錯誤處理與回退機制
- 超時與重試策略

**效能優化**：
- 並行處理獨立任務
- 快取常用結果
- 智能任務分割

**擴展性設計**：
- 模組化代理架構
- 動態代理註冊機制  
- 彈性的工作流程定義

---

